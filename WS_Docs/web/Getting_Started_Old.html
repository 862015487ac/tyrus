<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body>
    <div><span style="font-weight: bold;">Getting Started with the Web
        Sockets SDK</span><br>
      <small>Danny Coward, December 2011</small><br>
      <br>
      Before you read this, please be sure you have read the <a
        href="Introduction.html">Introduction to the Web Sockets SDK</a>.<br>
      <br>
      <span style="font-weight: bold;">Outline</span><br>
      <br>
      Once you have done everything on this page successfully, you will
      have set up the SDK, compiled and run the sample applications. The
      Echo sample, for example, is a simple Web Socket application with
      one end point and a client. The end point is a POJO decorated with
      the Web Socket annotations that are part of the Web Socket SDK API
      that replies to messages it receives synchronously. The client is
      a web page that contains some JavaScript code that contacts the
      end point using the native support for web sockets in your browser
      (Chrome, Safari...), and displays the returning message. Once you
      have that up and running, you'll have a pretty good idea how to
      use the SDK to run some of the more complicated samples, and even
      to start writing some of your own !<br>
      <br>
      <span style="font-weight: bold;">Running the Echo Sample</span><br>
      <br>
      <span style="font-weight: bold;">System Requirements</span><br>
      <ul>
        <li>JDK 1.6+</li>
        <li>Glassfish 3.1.2 <br>
        </li>
        <li>NetBeans 7.1 (not totally necessary, see notes)</li>
        <li>a Web Socket enabled browser. e.g. Chrome.</li>
      </ul>
      <span style="font-weight: bold;">Notes</span><br>
      <br>
      It's really simplest if you do all this in NetBeans 7.1 because
      that's what I use, and all the project dependencies you'll need
      are already in the repository, so I know it works. But I'll write
      these instructions so that you should be able to work out how to
      get started if you are not using NetBeans.<br>
      You don't have to have all of Glassfish 3.1.2 if you only want to
      run the Echo sample: if you don't want it all, then you will need
      to get Grizzly 2.1.7 yourself. And you'll need something that can
      run a simple JSP. And the servlet API v3.0 JAR. If you want to run
      the web integration applications - like the Trading Console,
      you'll will need Glassfish however.<br>
      <br>
      <span style="font-weight: bold;">Check out and build the Web
        Sockets SDK</span><br>
      <br>
      <span style="font-weight: bold;">Check out</span> the following
      projects:-<br>
      <br>
      &lt;repo&gt;/SDK/WS_API/*<br>
      &lt;repo&gt;/SDK/WS_Platform_1946/*<br>
      <br>
      You'll have to <span style="font-weight: bold;">resolve a couple
        classpath dependencies</span>. <br>
      First the WS_API project depends on the servlet api. You'll find
      this in your glassfish installation directory
      &lt;Glassfish&gt;/glassfish/modules/javax-servletapi.jar. Now
      build the project.<br>
      Second, the WS_Platform_1946 project depends on the WS_API JAR
      which you just built, so resolve that. It also depends on the
      servlet api, so resolve that. It also depends on Grizzly. That
      dependency you can resolve by adding all the JAR files in
      &lt;Glassfish&gt;/glassfish/modules that begin either with
      grizzly* or gms* - 14 JARs in total. Now build that project.<br>
      <br>
      If everything has worked so far, you have <span
        style="font-weight: bold;">built yourself a copy of the Web
        Sockets SDK</span> !<br>
      <br>
      <span style="font-weight: bold;">Check out, build and run the
        Sample Apps</span><br>
      <br>
      Check out the samples:-<br>
      <br>
      &lt;repo&gt;/Samples/WSClientSamplePages/*<br>
      &lt;repo&gt;/Samples/WSSampleBeans/*<br>
      <br>
      The WSSamplePages application only contains JSPs and JavaScript
      and doesn't depend on anything else, so you're good to go there.<br>
      The WSSampleBeans application has a few dependencies you'll need
      to resolve. First, it uses a <span style="font-weight: bold;">JSON
        API</span> for parsing in the drawing sample. So you'll need to
      go build the JAR from http://json.org/java/ for that. Also it <span
        style="font-weight: bold;">depends on the WS_API and WS_Platform
        JARs </span>you built earlier. <br>
      <br>
      Now you are nearly there. The very last thing you need to do is to
      tell the whatever is compiling the samples for you to <span
        style="font-weight: bold;">use the annotation processor when it
        encounters Web Sockets annotations</span> in the sample code. In
      NetBeans, go to the project properties dialog, select
      Build-&gt;Compiling. Check the boxes to enable annotation
      processing, and enable annotation processing in the editor, turn
      off Compile on Save, and add
      websockets.platform.processors.WSProcessor to the list of
      annotation processors.<br>
      <br>
      Now you are good to go ! <span style="font-weight: bold;">Run the
        WSSampleBeans project in NetBeans</span>. You'll see it has some
      sensible choices for hostname and port in the Run command. Without
      NetBeans, you will be doing something like this: <br>
      <br>
      java application.Main localhost 8021 /websockets/samples
application.ChatServer;application.EchoBean;application.SimpleLifeBean;application.GroupDrawServer<br>
      <br>
      Remember, if you chance the hostname and port, you'll need to
      update the WSClientSample code too. Then <span
        style="font-weight: bold;">deploy the sample pages to Glassfish</span>
      (or wherever) and you should be able to <span style="font-weight:
        bold;">try all the samples</span> !<br>
      <br>
      <span style="font-weight: bold;">Extra Credit:</span> <a
        href="WebIntegration.html">Running the SDK in Web Integration
        Mode</a><br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
    </div>
  </body>
</html>
